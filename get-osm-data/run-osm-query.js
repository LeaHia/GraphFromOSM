const axios = require('axios');

/*
--------------------------------------------------------------------------------
Send a query to https://overpass-api.de/api/interpreter and take back the
recieved data.

Input: OSM script as a string (such as the one generated by generateOsmScript)
Output: OSM data
--------------------------------------------------------------------------------
*/


const runOsmQuery = async (osmScript) => {
  const response = await axios.request({
    url: 'https://overpass-api.de/api/interpreter',
    method: 'post',
    headers: { Accept: 'application/json' },
    data: osmScript,
    timeout: 600000000,
    maxContentLength: 1500000000
  })
  return response.data
}



module.exports = { runOsmQuery };
